<!DOCTYPE html>
<html lang="en">
<head>
        <title>longwayaround.org.uk - vim</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, target-densitydpi=device-dpi">
        <link rel="stylesheet" href="https://longwayaround.org.uk/theme/css/main.css" type="text/css" />
        <link href="https://longwayaround.org.uk/feeds/all.rss.xml" type="application/atom+xml" rel="alternate" title="longwayaround.org.uk RSS Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://longwayaround.org.uk/css/ie.css"/>
                <script src="https://longwayaround.org.uk/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://longwayaround.org.uk/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">longwayaround.org.uk  <strong>taking the scenic route and enjoying the journey</strong></a></h1>
                <nav>
                <ul>
                    <li ><a href="https://longwayaround.org.uk/notes/">notes</a></li>
                </ul>
                </nav>
                    <ul class="social">
                        <li><a href="https://longwayaround.org.uk/feeds/all.rss.xml" rel="alternate"><img src="https://longwayaround.org.uk/theme/images/icons/gosquared/18/rss.png" title="rss" width="18" height="18" /></a></li>
                    <li><a href="https://uk.linkedin.com/in/walkermatt"><img src="https://longwayaround.org.uk/theme/images/icons/gosquared/18/linkedin.png" title="linkedin" width="18" height="18" /></a></li>
                    <li><a href="https://github.com/organizations/AstunTechnology"><img src="https://longwayaround.org.uk/theme/images/icons/gosquared/18/github.png" title="github" width="18" height="18" /></a></li>
                    <li><a href="https://github.com/walkermatt"><img src="https://longwayaround.org.uk/theme/images/icons/gosquared/18/github.png" title="github" width="18" height="18" /></a></li>
                    <li><a href="https://twitter.com/_walkermatt"><img src="https://longwayaround.org.uk/theme/images/icons/gosquared/18/twitter.png" title="twitter" width="18" height="18" /></a></li>
                    </ul>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <abbr class="published" title="2024-04-08T08:45:00+01:00">Mon 08 April 2024</abbr>
                    <h1 class="entry-title"><a href="https://longwayaround.org.uk/notes/sorting-lines-in-neovim/">Sorting lines in (Neo)Vim</a></h1> 
                    <p>The built-in Vim <code>:sort</code> command supports sorting either all lines in a buffer or a range of lines.</p>
<p>For example to sort a range of lines it's possible to visually select those lines then run <code>:sort</code>.</p>
<p>Help docs can be accessed via <code>:help :sort</code> and can be viewed <a class="reference external" href="https://vimhelp.org/change.txt.html#%3Asort">online via vimhelp.org</a>.</p>
<div class="section" id="example-sort-on-pattern">
<h2>Example: Sort on pattern</h2>
<p>It's possible to sort on a specific part of each line by specifying either a search pattern to ignore (the default) or a search pattern that matches the text to search on.</p>
<p>For example to sort the following output from running <code>du -h --max-depth=1 base_map_cache_EPSG27700/</code> by the last component of the path:</p>
<div class="highlight"><pre><span></span>1.6G    base_map_cache_EPSG27700/10
524K    base_map_cache_EPSG27700/04
25G     base_map_cache_EPSG27700/12
108K    base_map_cache_EPSG27700/01
328K    base_map_cache_EPSG27700/02
3.4M    base_map_cache_EPSG27700/06
360K    base_map_cache_EPSG27700/03
69M     base_map_cache_EPSG27700/08
18M     base_map_cache_EPSG27700/07
68K     base_map_cache_EPSG27700/00
1.4M    base_map_cache_EPSG27700/05
266M    base_map_cache_EPSG27700/09
6.4G    base_map_cache_EPSG27700/11
34G     base_map_cache_EPSG27700/
</pre></div>
<p>Visually selecting the above in a buffer and typing <code>:sort /\v\d+$/ r</code> will result in:</p>
<div class="highlight"><pre><span></span>34G     base_map_cache_EPSG27700/
68K     base_map_cache_EPSG27700/00
108K    base_map_cache_EPSG27700/01
328K    base_map_cache_EPSG27700/02
360K    base_map_cache_EPSG27700/03
524K    base_map_cache_EPSG27700/04
1.4M    base_map_cache_EPSG27700/05
3.4M    base_map_cache_EPSG27700/06
18M     base_map_cache_EPSG27700/07
69M     base_map_cache_EPSG27700/08
266M    base_map_cache_EPSG27700/09
1.6G    base_map_cache_EPSG27700/10
6.4G    base_map_cache_EPSG27700/11
25G     base_map_cache_EPSG27700/12
</pre></div>
<p>The pattern in the command <code>:sort /\v\d+$/ r</code>, breaks down as:</p>
<ul class="simple">
<li><code>\v</code> enables full regular expression support including <code>$</code> to match the end of the line</li>
<li><code>\d+$</code> matches one or more digits at the end of the line</li>
</ul>
<p>The <code>r</code> flag indicates that the sorting should be done based on the search match.</p>
</div>

<footer class="post-info">
    <abbr class="published" title="2024-04-08T08:45:00+01:00">Mon 08 April 2024</abbr>
<p>Tags: <a href="https://longwayaround.org.uk/tag/vim.html">vim</a> </p></footer><!-- /.post-info -->                    <p><a href="https://longwayaround.org.uk/notes/sorting-lines-in-neovim/#disqus_thread">comments</a>.</p>
                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other posts</h1>
                    <hr />
                        <ol id="posts-list" class="hfeed">

 
            <li><article class="hentry">
                <header>
                        <abbr class="published" title="2022-06-22T21:56:00+01:00">Wed 22 June 2022</abbr>
                        <h1><a href="https://longwayaround.org.uk/notes/writing-small-text-filters-for-the-shell-and-vim/" rel="bookmark" title="Permalink to Writing small text filters for the shell and Vim">Writing small text filters for the shell and Vim</a></h1>
                </header>
                <div class="entry-content">
                <div class="slug">
                    <p>Text filters are command-line programs that take text as input, transform it then output the results. An example of a common built in text filter is <tt class="docutils literal">sort</tt> which when passed newline separated text will sort each line:</p>
<div class="highlight"><pre><span></span><span class="nb">printf</span><span class="w"> </span><span class="s1">&#39;b\nc\na&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sort
</pre></div>
<p>You can write your own text filter scripts â€¦</p>
                    <p>
<a href="https://longwayaround.org.uk/notes/writing-small-text-filters-for-the-shell-and-vim/#disqus_thread">comments</a>.                        <a class="readmore" href="https://longwayaround.org.uk/notes/writing-small-text-filters-for-the-shell-and-vim/">read more</a>
                    </p>
                </div>
                </div><!-- /.entry-content -->
            </article></li>
    </ol><!-- /#posts-list -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                    Powered by <a href="http://alexis.notmyidea.org/pelican/">Pelican</a> and <a href="http://python.org">Python</a>, using a modified <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> theme, background from <a href="http://subtlepatterns.com">Subtle Patterns</a> and icons from <a href="https://www.gosquared.com/blog/archives/2925">GoSocial</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'longwayaroundorguk';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>