<!DOCTYPE html>
<html lang="en">
<head>
        <title>longwayaround.org.uk - walkermatt</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, target-densitydpi=device-dpi">
        <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
        <link href="/" type="application/atom+xml" rel="alternate" title="longwayaround.org.uk ATOM Feed" />
        <link href="/feeds/all.rss.xml" type="application/atom+xml" rel="alternate" title="longwayaround.org.uk RSS Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="/css/ie.css"/>
                <script src="/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="">longwayaround.org.uk  <strong>taking the scenic route and enjoying the journey</strong></a></h1>
                <nav>
                <ul>
                    <li ><a href="/notes/">notes</a></li>
                    <li><a href="/pages/about/">about</a></li>
                </ul>
                </nav>
                    <ul class="social">
                        <li><a href="/" rel="alternate"><img src="/theme/images/icons/gosquared/18/rss.png" title="atom" width="18" height="18" /></a></li>
                        <li><a href="/feeds/all.rss.xml" rel="alternate"><img src="/theme/images/icons/gosquared/18/rss.png" title="rss" width="18" height="18" /></a></li>
                    <li><a href="http://uk.linkedin.com/in/walkermatt"><img src="/theme/images/icons/gosquared/18/linkedin.png" title="linkedin" width="18" height="18" /></a></li>
                    <li><a href="http://delicious.com/walkermatt"><img src="/theme/images/icons/gosquared/18/delicious.png" title="delicious" width="18" height="18" /></a></li>
                    <li><a href="http://github.com/organizations/AstunTechnology"><img src="/theme/images/icons/gosquared/18/github.png" title="github" width="18" height="18" /></a></li>
                    <li><a href="http://github.com/walkermatt"><img src="/theme/images/icons/gosquared/18/github.png" title="github" width="18" height="18" /></a></li>
                    <li><a href="http://twitter.com/_walkermatt"><img src="/theme/images/icons/gosquared/18/twitter.png" title="twitter" width="18" height="18" /></a></li>
                    </ul>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/notes/custom-geoserver-getfeatureinfo-template/">Custom GeoServer GetFeatureInfo Template</a></h1> 
<footer class="post-info">
        <abbr class="published" title="2013-10-18T17:24:00">
                Fri 18 October 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/author/walkermatt.html">walkermatt</a>
        </address>
<p>In <a href="/category/notes.html">notes</a>. </p>
<p>tags: <a href="/tag/geoserver.html">geoserver</a> <a href="/tag/notes.html">notes</a> </p></footer><!-- /.post-info --><p>The default  <a class="reference external" href="http://geoserver.org/">GeoServer</a> GetFeatureInfo Freemarker template is a simple table and doesn't work very well when displaying the content in a web map popup. It's a common requirement to change the GetFeatureInfo template to an unordered list, to capitalise the title and attribute names. Here is a sample <cite>content.ftl</cite> that does just that and converts any attrubute values starting with <cite>http</cite> into a link:</p>
<div class="gist">
    <script src='https://gist.github.com/7052155.js?file=content.ftl'></script>
    <noscript>
        <pre><code><ul>
<#list features as feature>
  <li><h2>${type.name?capitalize}</h2>
  <ul>
  <#list feature.attributes as attribute>
    <#if !attribute.isGeometry>
      <li>${attribute.name?replace("_", " ", "i")?cap_first}: 
        <#if attribute.value?starts_with('http')>
          <a href="${attribute.value}">${attribute.value}</a>
        <#else>
         ${attribute.value}
        </#if>
      </li>
    </#if>
  </#list>
  </ul>
  </li>
</#list>
</ul>
</code></pre>
    </noscript>
</div>
<p>See the <a class="reference external" href="http://docs.geoserver.org/stable/en/user/tutorials/freemarker.html">GeoServer Freemarker tutorial</a> for details of where the content template needs to live. The <a class="reference external" href="http://freemarker.org/docs/">Freemaker Documentation</a> is comprehensive if you're interested in further customisation.</p>
<p><a href="/notes/custom-geoserver-getfeatureinfo-template/#disqus_thread">comments</a>.</p>
                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                        <ol id="posts-list" class="hfeed">

 
            <li><article class="hentry">
                <header>
                        <h1><a href="/notes/using-leaflet-with-a-custom-projection-and-a-mapproxy-tms/" rel="bookmark" title="Permalink to Using Leaflet with a custom projection and a MapProxy TMS">Using Leaflet with a custom projection and a MapProxy TMS</a></h1>
                </header>
                <div class="entry-content">
                <div class="slug">
<footer class="post-info">
        <abbr class="published" title="2012-07-02T21:06:00">
                Mon 02 July 2012
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/author/walkermatt.html">walkermatt</a>
        </address>
<p>In <a href="/category/notes.html">notes</a>. </p>
<p>tags: <a href="/tag/leaflet.html">leaflet</a> <a href="/tag/mapproxy.html">mapproxy</a> </p></footer><!-- /.post-info -->                    <p><strong>Update 2012-12-18</strong> I've update the <a class="reference external" href="https://gist.github.com/3034742">Gist</a>
to reflect changes in v0.4 of Leaflet, in particular the fact that the
scale function now belongs to the CRS object instead of the Map and the
way that the TileLayer scheme is specified has changed to simply <tt class="docutils literal">tms: true</tt>.</p>
<p><a class="reference external" href="http://leaflet.cloudmade.com/">Leaflet</a> is ...</p>
                    <p>
<a href="/notes/using-leaflet-with-a-custom-projection-and-a-mapproxy-tms/#disqus_thread">comments</a>.                        <a class="readmore" href="/notes/using-leaflet-with-a-custom-projection-and-a-mapproxy-tms/">read more</a>
                    </p>
                </div>
                </div><!-- /.entry-content -->
            </article></li>

 
            <li><article class="hentry">
                <header>
                        <h1><a href="/notes/greyscale-maps-with-mapserver/" rel="bookmark" title="Permalink to Greyscale maps with MapServer">Greyscale maps with MapServer</a></h1>
                </header>
                <div class="entry-content">
                <div class="slug">
<footer class="post-info">
        <abbr class="published" title="2012-02-02T21:31:00">
                Thu 02 February 2012
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/author/walkermatt.html">walkermatt</a>
        </address>
<p>In <a href="/category/notes.html">notes</a>. </p>
<p>tags: <a href="/tag/mapserver.html">mapserver</a> </p></footer><!-- /.post-info -->                    <p>There have been a few times in the past (such as when I was preparing the base mapping for <a class="reference external" href="http://mywycombe.wycombe.gov.uk/?tab=2">My Wycombe</a>) when I've wanted to create greyscale base mapping using <a class="reference external" href="http://mapserver.org">MapServer</a>. Previously I've experimented with various processing options for raster images (with varying degrees of success), converting the ...</p>
                    <p>
<a href="/notes/greyscale-maps-with-mapserver/#disqus_thread">comments</a>.                        <a class="readmore" href="/notes/greyscale-maps-with-mapserver/">read more</a>
                    </p>
                </div>
                </div><!-- /.entry-content -->
            </article></li>

 
            <li><article class="hentry">
                <header>
                        <h1><a href="/notes/disaggregate-multilinestrings-using-st_dump-postgis/" rel="bookmark" title="Permalink to Disaggregate MultiLineStrings using ST_Dump PostGIS">Disaggregate MultiLineStrings using ST_Dump PostGIS</a></h1>
                </header>
                <div class="entry-content">
                <div class="slug">
<footer class="post-info">
        <abbr class="published" title="2011-11-24T21:39:00">
                Thu 24 November 2011
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/author/walkermatt.html">walkermatt</a>
        </address>
<p>In <a href="/category/notes.html">notes</a>. </p>
<p>tags: <a href="/tag/postgis.html">postgis</a> </p></footer><!-- /.post-info -->                    <p>PostGIS the spatial extension to the PostgreSQL database provides a host of functions for querying, creating and manipulating geometries within the database. ST_Dump allows you to disaggregate collection and multi geometries such as MultiPolygon and MultiLineSting easily. The example below demonstrates starting with a table that contains one row with ...</p>
                    <p>
<a href="/notes/disaggregate-multilinestrings-using-st_dump-postgis/#disqus_thread">comments</a>.                        <a class="readmore" href="/notes/disaggregate-multilinestrings-using-st_dump-postgis/">read more</a>
                    </p>
                </div>
                </div><!-- /.entry-content -->
            </article></li>

 
            <li><article class="hentry">
                <header>
                        <h1><a href="/notes/recursively-delete-empty-directories/" rel="bookmark" title="Permalink to Recursively delete empty directories">Recursively delete empty directories</a></h1>
                </header>
                <div class="entry-content">
                <div class="slug">
<footer class="post-info">
        <abbr class="published" title="2011-03-28T10:31:00">
                Mon 28 March 2011
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/author/walkermatt.html">walkermatt</a>
        </address>
<p>In <a href="/category/notes.html">notes</a>. </p>
<p>tags: <a href="/tag/command-line.html">command-line</a> <a href="/tag/notes.html">notes</a> </p></footer><!-- /.post-info -->                    <p>To recursively delete all empty directories from the command prompt in Windows. Open command prompt and change to the desired directory then enter the following:</p>
<div class="highlight"><pre><span class="k">for</span> /F <span class="s2">&quot;tokens=*&quot;</span> %f in <span class="o">(</span><span class="s1">&#39;dir /AD /S /B ^| sort /R&#39;</span><span class="o">)</span> <span class="k">do </span><span class="nb">echo </span>rd <span class="s2">&quot;%f&quot;</span>
</pre></div>
<p>This command generates a list of all directories and sub ...</p>
                    <p>
<a href="/notes/recursively-delete-empty-directories/#disqus_thread">comments</a>.                        <a class="readmore" href="/notes/recursively-delete-empty-directories/">read more</a>
                    </p>
                </div>
                </div><!-- /.entry-content -->
            </article></li>

 
            <li><article class="hentry">
                <header>
                        <h1><a href="/notes/convert-a-directory-of-tiffs-to-greyscale-using-imagemagick/" rel="bookmark" title="Permalink to Convert a directory of TIFFs to greyscale using ImageMagick">Convert a directory of TIFFs to greyscale using ImageMagick</a></h1>
                </header>
                <div class="entry-content">
                <div class="slug">
<footer class="post-info">
        <abbr class="published" title="2011-01-07T17:53:00">
                Fri 07 January 2011
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/author/walkermatt.html">walkermatt</a>
        </address>
<p>In <a href="/category/notes.html">notes</a>. </p>
<p>tags: <a href="/tag/command-line.html">command-line</a> <a href="/tag/notes.html">notes</a> </p></footer><!-- /.post-info -->                    <p>Change to the directory then run the command:</p>
<div class="highlight"><pre>mogrify -colorspace Gray *.tif
</pre></div>

                    <p>
<a href="/notes/convert-a-directory-of-tiffs-to-greyscale-using-imagemagick/#disqus_thread">comments</a>.                        <a class="readmore" href="/notes/convert-a-directory-of-tiffs-to-greyscale-using-imagemagick/">read more</a>
                    </p>
                </div>
                </div><!-- /.entry-content -->
            </article></li>

 
            <li><article class="hentry">
                <header>
                        <h1><a href="/notes/build-ogr-18-with-gml-wfs-and-postgis-support-on-ubuntu-1004/" rel="bookmark" title="Permalink to Build OGR 1.8 with GML, WFS and PostGIS support on Ubuntu 10.04">Build OGR 1.8 with GML, WFS and PostGIS support on Ubuntu 10.04</a></h1>
                </header>
                <div class="entry-content">
                <div class="slug">
<footer class="post-info">
        <abbr class="published" title="2010-12-19T21:06:00">
                Sun 19 December 2010
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/author/walkermatt.html">walkermatt</a>
        </address>
<p>In <a href="/category/notes.html">notes</a>. </p>
<p>tags: <a href="/tag/gml.html">gml</a> <a href="/tag/ogr.html">ogr</a> <a href="/tag/postgis.html">postgis</a> <a href="/tag/wfs.html">wfs</a> </p></footer><!-- /.post-info -->                    <p>OGR 1.8 introduces support for reading GML with feature attributes expressed as nested elements as found in Ordnance Survey's OS MasterMap as well as support for accessing WFS. This is a brief script for building OGR (GDAL) 1.8 from source as it's not currently released: Download ...</p>
                    <p>
<a href="/notes/build-ogr-18-with-gml-wfs-and-postgis-support-on-ubuntu-1004/#disqus_thread">comments</a>.                        <a class="readmore" href="/notes/build-ogr-18-with-gml-wfs-and-postgis-support-on-ubuntu-1004/">read more</a>
                    </p>
                </div>
                </div><!-- /.entry-content -->
            </article></li>
    </ol><!-- /#posts-list -->
    </section><!-- /#content -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                    <h3>Credits</h3>
                    Powered by <a href="http://alexis.notmyidea.org/pelican/">Pelican</a> and <a href="http://python.org">Python</a>, using a modified <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> theme, background from <a href="http://subtlepatterns.com">Subtle Patterns</a> and icons from <a href="https://www.gosquared.com/blog/archives/2925">GoSocial</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'longwayaroundorguk';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>